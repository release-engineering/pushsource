<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Source: errata &#8212; pushsource  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=32913b9a" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Source: pub" href="pub.html" />
    <link rel="prev" title="Source: registry" href="registry.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="source-errata">
<h1>Source: errata<a class="headerlink" href="#source-errata" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">errata</span></code> push source allows the loading of content from an instance of
Errata Tool (or “ET”).</p>
<p>Supported content types:</p>
<ul class="simple">
<li><p>RPMs</p></li>
<li><p>Container images</p></li>
<li><p>Advisories</p></li>
<li><p>Virtual machine images</p></li>
</ul>
<section id="errata-source-urls">
<h2>errata source URLs<a class="headerlink" href="#errata-source-urls" title="Link to this heading">¶</a></h2>
<p>The base form of an errata source URL is:</p>
<p><code class="docutils literal notranslate"><span class="pre">errata:errata-tool-url?errata=RHXA-XXXX:0001[,RHXA-XXXX:0002[,...]]</span></code></p>
<p>For example, referencing a single advisory would look like:</p>
<p><code class="docutils literal notranslate"><span class="pre">errata:https://errata.example.com?errata=RHBA-2020:1234</span></code></p>
<p>The provided Errata Tool URL should be the base URL of the service,
and not any specific API endpoint.</p>
<section id="setting-the-koji-source">
<h3>Setting the koji source<a class="headerlink" href="#setting-the-koji-source" title="Link to this heading">¶</a></h3>
<p>In order to obtain metadata about RPMs, the errata source
needs to be configured to point at the same koji environment as used by
the connected ET environment.  This can be done by providing a partial URL
for a koji source in the <code class="docutils literal notranslate"><span class="pre">koji_source</span></code> parameter (leave parameters for selecting
content, such as <code class="docutils literal notranslate"><span class="pre">rpm</span></code>, blank - the errata source will fill them in as needed).</p>
<p>For example, if our ET environment is connected to Fedora Koji, we could configure
this as:</p>
<p><code class="docutils literal notranslate"><span class="pre">errata:https://errata.example.com?errata=RHBA-2020:1234&amp;koji_source=koji:https://koji.fedoraproject.org/kojihub</span></code></p>
<p>Although it is technically possible to configure the koji source behavior using
any of the parameters documented in <a class="reference internal" href="koji.html#source-koji"><span class="std std-ref">Source: koji</span></a>, in practice this results
in unwieldy URLs with multiple levels of URL encoding.  Thus it’s recommended
that developers integrating this library with their services should preconfigure
commonly used koji sources, so that they can be referred to by a short identifier.</p>
<p>For example, if the <code class="docutils literal notranslate"><span class="pre">fedkoji</span></code> source has been configured as explained in <a class="reference internal" href="../userguide.html#binding"><span class="std std-ref">Binding partially-configured backends</span></a>,
the source can be referred to more succintly as in:</p>
<p><code class="docutils literal notranslate"><span class="pre">errata:https://errata.example.com?errata=RHBA-2020:1234&amp;koji_source=fedkoji</span></code></p>
</section>
</section>
<section id="python-api-reference">
<h2>Python API reference<a class="headerlink" href="#python-api-reference" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pushsource.ErrataSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pushsource.</span></span><span class="sig-name descname"><span class="pre">ErrataSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">koji_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpm_filter_arch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_container_repos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keytab_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">principal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14400</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pushsource/_impl/backend/errata_source/errata_source.html#ErrataSource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pushsource.ErrataSource" title="Link to this definition">¶</a></dt>
<dd><p>Uses an advisory from Errata Tool as the source of push items.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pushsource.ErrataSource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">koji_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rpm_filter_arch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy_container_repos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keytab_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">principal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14400</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pushsource/_impl/backend/errata_source/errata_source.html#ErrataSource.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pushsource.ErrataSource.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Create a new source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>src</em>) – Base URL of Errata Tool, e.g. “<a class="reference external" href="http://errata.example.com">http://errata.example.com</a>”,
“<a class="reference external" href="https://errata.example.com:8123">https://errata.example.com:8123</a>”.</p></li>
<li><p><strong>errata</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – Advisory ID(s) to be used as push item source.
If a single string is given, multiple IDs may be
comma-separated.</p></li>
<li><p><strong>koji_source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – URL of a koji source associated with this Errata Tool
instance.</p></li>
<li><p><strong>rpm_filter_arch</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – If provided, only RPMs for these given arch(es) will be produced;
e.g. “x86_64”, “src” and “noarch”.</p></li>
<li><p><strong>legacy_container_repos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – <p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, any container push items generated by this source will
use a legacy format for repository IDs.</p>
<p>This is intended to better support certain legacy code and will be
removed when no longer needed. Only use this if you know that you
need it.</p>
</p></li>
<li><p><strong>keytab_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Kerberos keytab path for authenticating with Errata HTTP API.</p></li>
<li><p><strong>principal</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Kerberos principal for authenticating with Errata HTTP API.</p></li>
<li><p><strong>threads</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of threads used for concurrent queries to Errata Tool
and koji.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of seconds after which an error is raised, if no progress is
made during queries to Errata Tool.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">pushsource</a></h1>



<p class="blurb">A library to load push items from a variety of sources</p>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../userguide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="staged.html">Source: staged</a></li>
<li class="toctree-l1"><a class="reference internal" href="koji.html">Source: koji</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry.html">Source: registry</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Source: errata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#errata-source-urls">errata source URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-api-reference">Python API reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pub.html">Source: pub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/base.html">Push items</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/files.html">Push items: file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/cgw.html">Push items: cgw</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/directory.html">Push items: directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/rpm.html">Push items: RPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/modulemd.html">Push items: modulemd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/errata.html">Push items: errata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/containers.html">Push items: containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/ami.html">Push items: AMI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/azure.html">Push items: VHD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/vmi.html">Push items: VMI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/productid.html">Push items: productid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/comps.html">Push items: comps.xml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schema/staged.html">Schema: staged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schema/errata.html">Schema: errata</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/release-engineering/pushsource">Source</a></li>
    
    <li class="toctree-l1"><a href="https://pypi.org/project/pushsource">PyPI</a></li>
    
    <li class="toctree-l1"><a href="genindex.html">Index</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="registry.html" title="previous chapter">Source: registry</a></li>
      <li>Next: <a href="pub.html" title="next chapter">Source: pub</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2020, Red Hat.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/sources/errata.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/release-engineering/pushsource" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>